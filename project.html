<html>

<head>
   <link rel="stylesheet" type="text/css" href="project.css">
   <title>Project</title>

   <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
   <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
   <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Scrollable Vega-Embed Gallery</title>

</head>

<body>
   <header>
      <nav>
         <ul>
            <li><a href="index.html">Homepage</a></li>
            <li><a href="portfolio.html">Portfolio</a></li>
            <li><a href="https://github.com/OliverGriffiths287/OliverGriffiths287.github.io">Github</a></li>
            <li><a href="https://www.linkedin.com/in/oliver-griffiths-bb901329a/">LinkedIn</a></li>
         </ul>
      </nav>
   </header>

   <div class="page-container">

      <div class="title">
         <h1> What effect has increased commercialisation had on domestic and european football?</h1>
      </div>

      <div class="chart-grid" id="chartGrid"></div>

      <script>
         const chartFiles = [
            'Revenue_Points_2014.json',
            'Revenue_Points_2015.json',
            'Revenue_Points_2016.json',
            'Revenue_Points_2017.json',
            'Revenue_Points_2018.json',
            'Revenue_Points_2019.json',
            'Revenue_Points_2020.json',
            'Revenue_Points_2021.json',
            'Revenue_Points_2022.json',
            'Revenue_Points_2023.json'
         ];

         const chartGrid = document.getElementById('chartGrid');

         function createChartContainer(id) {
            const container = document.createElement('div');
            container.className = 'chart-container';
            container.id = id;
            return container;
         }

         function loadChart(file, containerId) {
            fetch(file)
               .then(response => response.json())
               .then(spec => {
                  spec.autosize = {
                     type: "fit",
                     contains: "padding"
                  };
                  spec.width = 'container';
                  spec.height = 'container';
                  spec.padding = { left: 5, top: 10, right: 20, bottom: 10 };

                  vegaEmbed(`#${containerId}`, spec, {
                     actions: false,
                     renderer: 'svg'
                  }).catch(console.error);
               })
               .catch(error => console.error(`Error loading ${file}:`, error));
         }

         chartFiles.forEach((file, index) => {
            const containerId = `chart-${index}`;
            const container = createChartContainer(containerId);
            chartGrid.appendChild(container);
            loadChart(file, containerId);
         });
      </script>

      <section>
         <figure id="Location1"></figure>
      </section>

      <script>
         let figure_1_spec = "Europe_Revenue_Map.json";

         function loadChart() {
            vegaEmbed('#Location1', figure_1_spec, {
               width: "container",
               height: "container"
            }).catch(console.error);
         }

         window.addEventListener('load', loadChart);
         window.addEventListener('resize', loadChart);
      </script>

      <section>
         <figure id="Location2"></figure>
      </section>

      <script>
         let figure_2_spec = "2014_2023_Wages.json";

         function loadChart() {
            vegaEmbed('#Location2', figure_2_spec, {
               width: "container",
               height: "container"
            }).catch(console.error);
         }

         window.addEventListener('load', loadChart);
         window.addEventListener('resize', loadChart);
      </script>

      <section>
         <figure id="Location3"></figure>
      </section>

      <script>
         let figure_3_spec = "PL_Yearly_Revenue.json";

         function loadChart() {
            vegaEmbed('#Location3', figure_3_spec, {
               width: "container",
               height: "container"
            }).catch(console.error);
         }

         window.addEventListener('load', loadChart);
         window.addEventListener('resize', loadChart);
      </script>

      <section>
         <figure id="Location4"></figure>
      </section>

      <script>
         let figure_4_spec = "Revenue_Breakdown.json";

         function loadChart() {
            vegaEmbed('#Location4', figure_4_spec, {
               width: "container",
               height: "container"
            }).catch(console.error);
         }

         window.addEventListener('load', loadChart);
         window.addEventListener('resize', loadChart);
      </script>

      <section>
         <figure id="Location5"></figure>
      </section>

      <script>
         let figure_5_spec = "wage_salary_boxplot.json";

         function loadChart() {
            vegaEmbed('#Location5', figure_5_spec, {
               width: "container",
               height: "container"
            }).catch(console.error);
         }

         window.addEventListener('load', loadChart);
         window.addEventListener('resize', loadChart);
      </script>

   </div>

</body>